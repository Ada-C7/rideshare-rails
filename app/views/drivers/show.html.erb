<h1>Driver Details</h1>

<ul class="profile">
  <li>Name: <%= @result_driver.name %></li>
  <li>VIN: <%= @result_driver.vin %></li>
  <li>Total Earned: <%= @result_driver.total_cost %></li>
  <li>Average Rating: <%= @result_driver.average_rating %></li>
  <li>Available:
    <% if @result_driver.available %>
        YES
    <% else %>
        NO
    <% end %>

    <% if @result_driver.available %>
          <%= button_to "Make Unavailable", available_driver_path(@result_driver.id), method: :patch, form_class: "toggle-button" %>
      <% else %>
          <%= button_to "Make Available", available_driver_path(@result_driver.id), method: :patch, form_class: "toggle-button" %>
    <% end %>
  </li>
</ul>

<ul class="list">
    <% @result_driver.trips.each do |trip| %>
      <li>Trip ID: <%= link_to trip.id, trip_path(trip.id) %>
      Passenger: <%= link_to trip.passenger.name, passenger_path(trip.passenger.id) %>
      Cost: $ <%= (trip.cost / 100.0).round(2) %>
      Rating:
        <%if trip.rating == 0%>
        <%= "Not Rated" %>
        <% else %>
        <%= trip.rating %>
        <% end %>
      </li>
    <% end %>
</ul>

<div class="options">
  <h4><%= link_to "All Drivers", drivers_path %></h4>
  <h4><%= link_to "Edit", edit_driver_path(@result_driver.id)%></h4>
  <h4><%= link_to "Delete", driver_path(@result_driver.id), data: { confirm: "Are you sure you want to delete this driver?" }, method: :delete %></h4>
</div>
